<div class="transactions-container">
  <header class="header">
    <h1>Budget Tracker</h1>
    <div class="user-info" *ngIf="currentUser">
      <span>Welcome, {{ currentUser.name }}</span>
      <button class="btn btn-secondary" (click)="logout()">Logout</button>
    </div>
  </header>

  <div class="content">
    <app-transaction-list
      [categories]="categories"
      [beneficiaries]="beneficiaries"
      (editTransaction)="onEditTransaction($event)"
      (createTransaction)="onCreateTransaction()">
    </app-transaction-list>
  </div>

  <!-- Transaction Form Dialog -->
  <div class="form-dialog-overlay" *ngIf="showFormDialog" (click)="closeFormDialog()">
    <div class="form-dialog" (click)="$event.stopPropagation()">
      <button class="btn-close-dialog" (click)="closeFormDialog()">Ã—</button>
      <app-transaction-form
        [categories]="categories"
        [beneficiaries]="beneficiaries"
        [currentUserId]="currentUser?.id ?? null"
        [editingTransaction]="editingTransaction"
        (transactionCreated)="onTransactionCreated($event)"
        (transactionUpdated)="onTransactionUpdated($event)"
        (editCancelled)="onEditCancelled()">
      </app-transaction-form>
    </div>
  </div>
</div>

